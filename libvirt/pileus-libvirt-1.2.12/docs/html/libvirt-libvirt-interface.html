<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!--
        This file is autogenerated from html/libvirt-libvirt-interface.html.in
        Do not edit this file. Changes will be lost.
      --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" type="text/css" href="../main.css" /><link rel="SHORTCUT ICON" href="../32favicon.png" /><title>libvirt: Module libvirt-interface from libvirt</title><meta name="description" content="libvirt, virtualization, virtualization API" /></head><body><div id="header"><div id="headerLogo"></div><div id="headerSearch"><form action="../search.php" enctype="application/x-www-form-urlencoded" method="get"><div><input id="query" name="query" type="text" size="12" value="" /><input id="submit" name="submit" type="submit" value="Search" /></div></form></div></div><div id="body"><div id="menu"><ul class="l0"><li><div><a title="Front page of the libvirt website" class="inactive" href="../index.html">Home</a></div></li><li><div><a title="Details of new features and bugs fixed in each release" class="inactive" href="../news.html">News</a></div></li><li><div><a title="Applications known to use libvirt" class="inactive" href="../apps.html">Applications</a></div></li><li><div><a title="Get the latest source releases, binary builds and get access to the source repository" class="inactive" href="../downloads.html">Downloads</a></div></li><li><div><a title="Information for users, administrators and developers" class="active" href="../docs.html">Documentation</a><ul class="l1"><li><div><a title="How to compile libvirt" class="inactive" href="../compiling.html">Compiling</a></div></li><li><div><a title="Information about deploying and using libvirt" class="inactive" href="../deployment.html">Deployment</a></div></li><li><div><a title="Overview of the logical subsystems in the libvirt API" class="inactive" href="../intro.html">Architecture</a></div></li><li><div><a title="Description of the XML formats used in libvirt" class="inactive" href="../format.html">XML format</a></div></li><li><div><a title="Hypervisor specific driver information" class="inactive" href="../drivers.html">Drivers</a></div></li><li><div><a title="Reference manual for the C public API" class="active" href="../html/index.html">API reference</a><ul class="l2"><li><div><a title="domain APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-domain.html">Domain</a></div></li><li><div><a title="domain snapshot APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-domain-snapshot.html">Domain snapshot</a></div></li><li><div><a title="error handling APIs for the libvirt library" class="inactive" href="../html/libvirt-virterror.html">Error</a></div></li><li><div><a title="event APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-event.html">Event</a></div></li><li><div><a title="host APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-host.html">Host</a></div></li><li><div><span class="active">Interface</span></div></li><li><div><a title="network APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-network.html">Network</a></div></li><li><div><a title="node device APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-nodedev.html">Node device</a></div></li><li><div><a title="network filter APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-nwfilter.html">Network filter</a></div></li><li><div><a title="secret APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-secret.html">Secret</a></div></li><li><div><a title="storage APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-storage.html">Storage</a></div></li><li><div><a title="stream APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-stream.html">Stream</a></div></li><li><div><a title="matrix of API support per hypervisor per release" class="inactive" href="../hvsupport.html">Driver support</a></div></li></ul></div></li><li><div><a title="Bindings of the libvirt API for other languages" class="inactive" href="../bindings.html">Language bindings</a></div></li><li><div><a title="Working on the internals of libvirt API, driver and daemon code" class="inactive" href="../internals.html">Internals</a></div></li><li><div><a title="A guide and reference for developing with libvirt" class="inactive" href="../devguide.html">Development Guide</a></div></li><li><div><a title="Command reference for virsh" class="inactive" href="../virshcmdref.html">Virsh Commands</a></div></li><li><div><a title="Project governance and code of conduct" class="inactive" href="../governance.html">Governance</a></div></li></ul></div></li><li><div><a title="User contributed content" class="inactive" href="http://wiki.libvirt.org">Wiki</a></div></li><li><div><a title="Frequently asked questions" class="inactive" href="http://wiki.libvirt.org/page/FAQ">FAQ</a></div></li><li><div><a title="How and where to report bugs and request features" class="inactive" href="../bugs.html">Bug reports</a></div></li><li><div><a title="How to contact the developers via email and IRC" class="inactive" href="../contact.html">Contact</a></div></li><li><div><a title="Available test suites for libvirt" class="inactive" href="../testsuites.html">Test suites</a></div></li><li><div><a title="Miscellaneous links of interest related to libvirt" class="inactive" href="../relatedlinks.html">Related Links</a></div></li><li><div><a title="Overview of all content on the website" class="inactive" href="../sitemap.html">Sitemap</a></div></li></ul></div><div id="content"><h1>Module libvirt-interface from libvirt</h1><p>Provides APIs for the management of interfaces</p><h2>Table of Contents</h2><h3><a href="#types">Types</a></h3><pre class="api"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virConnectListAllInterfacesFlags">virConnectListAllInterfacesFlags</a>
<span class="keyword">typedef</span> <span class="type">struct _virInterface</span> <a href="#virInterface">virInterface</a>
<span class="keyword">typedef</span> <span class="type"><a href="libvirt-libvirt-interface.html#virInterface">virInterface</a> *</span> <a name="virInterfacePtr" id="virInterfacePtr">virInterfacePtr</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virInterfaceXMLFlags">virInterfaceXMLFlags</a>
</pre><h3><a href="#functions">Functions</a></h3><pre class="api"><span class="type">int</span>	<a href="#virConnectListAllInterfaces">virConnectListAllInterfaces</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a> **</span> ifaces, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virConnectListDefinedInterfaces">virConnectListDefinedInterfaces</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">char ** const</span> names, <br />					 <span class="type">int</span> maxnames)
<span class="type">int</span>	<a href="#virConnectListInterfaces">virConnectListInterfaces</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">char ** const</span> names, <br />					 <span class="type">int</span> maxnames)
<span class="type">int</span>	<a href="#virConnectNumOfDefinedInterfaces">virConnectNumOfDefinedInterfaces</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)
<span class="type">int</span>	<a href="#virConnectNumOfInterfaces">virConnectNumOfInterfaces</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)
<span class="type">int</span>	<a href="#virInterfaceChangeBegin">virInterfaceChangeBegin</a>		(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virInterfaceChangeCommit">virInterfaceChangeCommit</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virInterfaceChangeRollback">virInterfaceChangeRollback</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virInterfaceCreate">virInterfaceCreate</a>		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface, <br />					 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span>	<a href="#virInterfaceDefineXML">virInterfaceDefineXML</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">const char *</span> xml, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virInterfaceDestroy">virInterfaceDestroy</a>		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virInterfaceFree">virInterfaceFree</a>		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	<a href="#virInterfaceGetConnect">virInterfaceGetConnect</a>	(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
<span class="type">const char *</span>	<a href="#virInterfaceGetMACString">virInterfaceGetMACString</a>	(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
<span class="type">const char *</span>	<a href="#virInterfaceGetName">virInterfaceGetName</a>	(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
<span class="type">char *</span>	<a href="#virInterfaceGetXMLDesc">virInterfaceGetXMLDesc</a>		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virInterfaceIsActive">virInterfaceIsActive</a>		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span>	<a href="#virInterfaceLookupByMACString">virInterfaceLookupByMACString</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />						 <span class="type">const char *</span> macstr)
<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span>	<a href="#virInterfaceLookupByName">virInterfaceLookupByName</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />						 <span class="type">const char *</span> name)
<span class="type">int</span>	<a href="#virInterfaceRef">virInterfaceRef</a>			(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
<span class="type">int</span>	<a href="#virInterfaceUndefine">virInterfaceUndefine</a>		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)
</pre><h2>Description</h2><h3><a name="types" id="types">Types</a><a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h3><h3><a name="virConnectListAllInterfacesFlags" id="virConnectListAllInterfacesFlags"><code>virConnectListAllInterfacesFlags</code></a><a class="headerlink" href="#virConnectListAllInterfacesFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virConnectListAllInterfacesFlags {
</pre><table><tr><td><a name="VIR_CONNECT_LIST_INTERFACES_INACTIVE" id="VIR_CONNECT_LIST_INTERFACES_INACTIVE">VIR_CONNECT_LIST_INTERFACES_INACTIVE</a></td><td> = </td><td>1</td></tr><tr><td><a name="VIR_CONNECT_LIST_INTERFACES_ACTIVE" id="VIR_CONNECT_LIST_INTERFACES_ACTIVE">VIR_CONNECT_LIST_INTERFACES_ACTIVE</a></td><td> = </td><td>2</td></tr></table><pre>}
</pre></div><h3><a name="virInterface" id="virInterface"><code>virInterface</code></a><a class="headerlink" href="#virInterface" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">struct </span>virInterface {
</pre><div class="undisclosed">The content of this structure is not made public by the API</div><pre>
}
</pre></div><h3><a name="virInterfaceXMLFlags" id="virInterfaceXMLFlags"><code>virInterfaceXMLFlags</code></a><a class="headerlink" href="#virInterfaceXMLFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virInterfaceXMLFlags {
</pre><table><tr><td><a name="VIR_INTERFACE_XML_INACTIVE" id="VIR_INTERFACE_XML_INACTIVE">VIR_INTERFACE_XML_INACTIVE</a></td><td> = </td><td>1</td><td><div class="comment">dump inactive interface information</div></td></tr></table><pre>}
</pre></div><h3><a name="functions" id="functions">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3><h3><a name="virConnectListAllInterfaces" id="virConnectListAllInterfaces"><code>virConnectListAllInterfaces</code></a><a class="headerlink" href="#virConnectListAllInterfaces" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectListAllInterfaces	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a> **</span> ifaces,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Collect the list of interfaces, and allocate an array to store those objects. This API solves the race inherent between <a href="libvirt-libvirt-interface.html#virConnectListInterfaces">virConnectListInterfaces</a> and <a href="libvirt-libvirt-interface.html#virConnectListDefinedInterfaces">virConnectListDefinedInterfaces</a>.</p><p>Normally, all interfaces are returned; however, @flags can be used to filter the results for a smaller list of targeted interfaces. The valid flags are divided into groups, where each group contains bits that describe mutually exclusive attributes of a interface, and where all bits within a group describe all possible interfaces.</p><p>The only group of @flags is <a href="libvirt-libvirt-interface.html#VIR_CONNECT_LIST_INTERFACES_ACTIVE">VIR_CONNECT_LIST_INTERFACES_ACTIVE</a> (up) and <a href="libvirt-libvirt-interface.html#VIR_CONNECT_LIST_INTERFACES_INACTIVE">VIR_CONNECT_LIST_INTERFACES_INACTIVE</a> (down) to filter the interfaces by state.</p></div><dl class="variablelist"><dt>conn</dt><dd>Pointer to the hypervisor connection.</dd><dt>ifaces</dt><dd>Pointer to a variable to store the array containing the interface objects or NULL if the list is not required (just returns number of interfaces).</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-interface.html#virConnectListAllInterfacesFlags">virConnectListAllInterfacesFlags</a>.</dd><dt>Returns</dt><dd>the number of interfaces found or -1 and sets @ifaces to NULL in case of error. On success, the array stored into @ifaces is guaranteed to have an extra allocated element set to NULL but not included in the return count, to make iteration easier. The caller is responsible for calling virStorageInterfaceFree() on each array element, then calling free() on @ifaces.</dd></dl><div class="acl"></div><h3><a name="virConnectListDefinedInterfaces" id="virConnectListDefinedInterfaces"><code>virConnectListDefinedInterfaces</code></a><a class="headerlink" href="#virConnectListDefinedInterfaces" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectListDefinedInterfaces	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">char ** const</span> names,
					 <span class="type">int</span> maxnames)</pre><div class="description"><p>Collect the list of defined (inactive) physical host interfaces, and store their names in @names.</p><p>For more control over the results, see <a href="libvirt-libvirt-interface.html#virConnectListAllInterfaces">virConnectListAllInterfaces</a>().</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>names</dt><dd>array to collect the list of names of interfaces</dd><dt>maxnames</dt><dd>size of @names</dd><dt>Returns</dt><dd>the number of names provided in the array or -1 in case of error. Note that this command is inherently racy; a interface can be defined between a call to <a href="libvirt-libvirt-interface.html#virConnectNumOfDefinedInterfaces">virConnectNumOfDefinedInterfaces</a>() and this call; you are only guaranteed that all currently defined interfaces were listed if the return is less than @maxnames. The client must call free() on each returned name.</dd></dl><div class="acl"></div><h3><a name="virConnectListInterfaces" id="virConnectListInterfaces"><code>virConnectListInterfaces</code></a><a class="headerlink" href="#virConnectListInterfaces" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectListInterfaces	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">char ** const</span> names,
					 <span class="type">int</span> maxnames)</pre><div class="description"><p>Collect the list of active physical host interfaces, and store their names in @names</p><p>For more control over the results, see <a href="libvirt-libvirt-interface.html#virConnectListAllInterfaces">virConnectListAllInterfaces</a>().</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>names</dt><dd>array to collect the list of names of interfaces</dd><dt>maxnames</dt><dd>size of @names</dd><dt>Returns</dt><dd>the number of interfaces found or -1 in case of error. Note that this command is inherently racy; a interface can be started between a call to <a href="libvirt-libvirt-interface.html#virConnectNumOfInterfaces">virConnectNumOfInterfaces</a>() and this call; you are only guaranteed that all currently active interfaces were listed if the return is less than @maxnames. The client must call free() on each returned name.</dd></dl><div class="acl"></div><h3><a name="virConnectNumOfDefinedInterfaces" id="virConnectNumOfDefinedInterfaces"><code>virConnectNumOfDefinedInterfaces</code></a><a class="headerlink" href="#virConnectNumOfDefinedInterfaces" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectNumOfDefinedInterfaces	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)</pre><div class="description"><p>Provides the number of defined (inactive) interfaces on the physical host.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>Returns</dt><dd>the number of defined interface found or -1 in case of error</dd></dl><div class="acl"></div><h3><a name="virConnectNumOfInterfaces" id="virConnectNumOfInterfaces"><code>virConnectNumOfInterfaces</code></a><a class="headerlink" href="#virConnectNumOfInterfaces" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectNumOfInterfaces	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)</pre><div class="description"><p>Provides the number of active interfaces on the physical host.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>Returns</dt><dd>the number of active interfaces found or -1 in case of error</dd></dl><div class="acl"></div><h3><a name="virInterfaceChangeBegin" id="virInterfaceChangeBegin"><code>virInterfaceChangeBegin</code></a><a class="headerlink" href="#virInterfaceChangeBegin" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceChangeBegin		(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>This function creates a restore point to which one can return later by calling <a href="libvirt-libvirt-interface.html#virInterfaceChangeRollback">virInterfaceChangeRollback</a>(). This function should be called before any transaction with interface configuration. Once it is known that a new configuration works, it can be committed via <a href="libvirt-libvirt-interface.html#virInterfaceChangeCommit">virInterfaceChangeCommit</a>(), which frees the restore point.</p><p>If <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>() is called when a transaction is already opened, this function will fail, and a VIR_ERR_INVALID_OPERATION will be logged.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 in case of success and -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceChangeCommit" id="virInterfaceChangeCommit"><code>virInterfaceChangeCommit</code></a><a class="headerlink" href="#virInterfaceChangeCommit" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceChangeCommit	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>This commits the changes made to interfaces and frees the restore point created by <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>().</p><p>If <a href="libvirt-libvirt-interface.html#virInterfaceChangeCommit">virInterfaceChangeCommit</a>() is called when a transaction is not opened, this function will fail, and a VIR_ERR_INVALID_OPERATION will be logged.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 in case of success and -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceChangeRollback" id="virInterfaceChangeRollback"><code>virInterfaceChangeRollback</code></a><a class="headerlink" href="#virInterfaceChangeRollback" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceChangeRollback	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>This cancels changes made to interfaces settings by restoring previous state created by <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>().</p><p>If <a href="libvirt-libvirt-interface.html#virInterfaceChangeRollback">virInterfaceChangeRollback</a>() is called when a transaction is not opened, this function will fail, and a VIR_ERR_INVALID_OPERATION will be logged.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 in case of success and -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceCreate" id="virInterfaceCreate"><code>virInterfaceCreate</code></a><a class="headerlink" href="#virInterfaceCreate" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceCreate		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Activate an interface (i.e. call "ifup").</p><p>If there was an open network config transaction at the time this interface was defined (that is, if <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>() had been called), the interface will be brought back down (and then undefined) if <a href="libvirt-libvirt-interface.html#virInterfaceChangeRollback">virInterfaceChangeRollback</a>() is called.</p></div><dl class="variablelist"><dt>iface</dt><dd>pointer to a defined interface</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 in case of success, -1 in case of error</dd></dl><div class="acl"></div><h3><a name="virInterfaceDefineXML" id="virInterfaceDefineXML"><code>virInterfaceDefineXML</code></a><a class="headerlink" href="#virInterfaceDefineXML" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span>	virInterfaceDefineXML	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">const char *</span> xml,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Define an interface (or modify existing interface configuration).</p><p>Normally this change in the interface configuration is immediately permanent/persistent, but if <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>() has been previously called (i.e. if an interface config transaction is open), the new interface definition will only become permanent if <a href="libvirt-libvirt-interface.html#virInterfaceChangeCommit">virInterfaceChangeCommit</a>() is called prior to the next reboot of the system running libvirtd. Prior to that time, it can be explicitly removed using <a href="libvirt-libvirt-interface.html#virInterfaceChangeRollback">virInterfaceChangeRollback</a>(), or will be automatically removed during the next reboot of the system running libvirtd.</p><p><a href="libvirt-libvirt-interface.html#virInterfaceFree">virInterfaceFree</a> should be used to free the resources after the interface object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>xml</dt><dd>the XML description for the interface, preferably in UTF-8</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>NULL in case of error, a pointer to the interface otherwise</dd></dl><div class="acl"></div><h3><a name="virInterfaceDestroy" id="virInterfaceDestroy"><code>virInterfaceDestroy</code></a><a class="headerlink" href="#virInterfaceDestroy" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceDestroy		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>deactivate an interface (ie call "ifdown") This does not remove the interface from the config, and does not free the associated <a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a> object.</p><p>If there is an open network config transaction at the time this interface is destroyed (that is, if <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>() had been called), and if the interface is later undefined and then <a href="libvirt-libvirt-interface.html#virInterfaceChangeRollback">virInterfaceChangeRollback</a>() is called, the restoral of the interface definition will also bring the interface back up.</p></div><dl class="variablelist"><dt>iface</dt><dd>an interface object</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 in case of success and -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceFree" id="virInterfaceFree"><code>virInterfaceFree</code></a><a class="headerlink" href="#virInterfaceFree" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceFree		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Free the interface object. The interface itself is unaltered. The data structure is freed and should not be used thereafter.</p></div><dl class="variablelist"><dt>iface</dt><dd>an interface object</dd><dt>Returns</dt><dd>0 in case of success and -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceGetConnect" id="virInterfaceGetConnect"><code>virInterfaceGetConnect</code></a><a class="headerlink" href="#virInterfaceGetConnect" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	virInterfaceGetConnect	(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Provides the connection pointer associated with an interface. The reference counter on the connection is not increased by this call.</p><p>WARNING: When writing libvirt bindings in other languages, do not use this function. Instead, store the connection and the interface object together.</p></div><dl class="variablelist"><dt>iface</dt><dd>pointer to an interface</dd><dt>Returns</dt><dd>the <a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a> or NULL in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceGetMACString" id="virInterfaceGetMACString"><code>virInterfaceGetMACString</code></a><a class="headerlink" href="#virInterfaceGetMACString" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">const char *</span>	virInterfaceGetMACString	(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Get the MAC for an interface as string. For more information about MAC see RFC4122.</p></div><dl class="variablelist"><dt>iface</dt><dd>an interface object</dd><dt>Returns</dt><dd>a pointer to the MAC address (in null-terminated ASCII format) or NULL, the string need not be deallocated its lifetime will be the same as the interface object.</dd></dl><div class="acl"></div><h3><a name="virInterfaceGetName" id="virInterfaceGetName"><code>virInterfaceGetName</code></a><a class="headerlink" href="#virInterfaceGetName" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">const char *</span>	virInterfaceGetName	(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Get the public name for that interface</p></div><dl class="variablelist"><dt>iface</dt><dd>an interface object</dd><dt>Returns</dt><dd>a pointer to the name or NULL, the string need not be deallocated its lifetime will be the same as the interface object.</dd></dl><div class="acl"></div><h3><a name="virInterfaceGetXMLDesc" id="virInterfaceGetXMLDesc"><code>virInterfaceGetXMLDesc</code></a><a class="headerlink" href="#virInterfaceGetXMLDesc" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">char *</span>	virInterfaceGetXMLDesc		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p><a href="libvirt-libvirt-interface.html#VIR_INTERFACE_XML_INACTIVE">VIR_INTERFACE_XML_INACTIVE</a> - return the static configuration, suitable for use redefining the interface via <a href="libvirt-libvirt-interface.html#virInterfaceDefineXML">virInterfaceDefineXML</a>()</p><p>Provide an XML description of the interface. If <a href="libvirt-libvirt-interface.html#VIR_INTERFACE_XML_INACTIVE">VIR_INTERFACE_XML_INACTIVE</a> is set, the description may be reused later to redefine the interface with <a href="libvirt-libvirt-interface.html#virInterfaceDefineXML">virInterfaceDefineXML</a>(). If it is not set, the ip address and netmask will be the current live setting of the interface, not the settings from the config files.</p></div><dl class="variablelist"><dt>iface</dt><dd>an interface object</dd><dt>flags</dt><dd>bitwise-OR of extraction flags. Current valid bits:</dd><dt>Returns</dt><dd>a 0 terminated UTF-8 encoded XML instance, or NULL in case of error. the caller must free() the returned value.</dd></dl><div class="acl"></div><h3><a name="virInterfaceIsActive" id="virInterfaceIsActive"><code>virInterfaceIsActive</code></a><a class="headerlink" href="#virInterfaceIsActive" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceIsActive		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Determine if the interface is currently running</p></div><dl class="variablelist"><dt>iface</dt><dd>pointer to the interface object</dd><dt>Returns</dt><dd>1 if running, 0 if inactive, -1 on error</dd></dl><div class="acl"></div><h3><a name="virInterfaceLookupByMACString" id="virInterfaceLookupByMACString"><code>virInterfaceLookupByMACString</code></a><a class="headerlink" href="#virInterfaceLookupByMACString" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span>	virInterfaceLookupByMACString	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
						 <span class="type">const char *</span> macstr)</pre><div class="description"><p>Try to lookup an interface on the given hypervisor based on its MAC.</p><p><a href="libvirt-libvirt-interface.html#virInterfaceFree">virInterfaceFree</a> should be used to free the resources after the interface object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>macstr</dt><dd>the MAC for the interface (null-terminated ASCII format)</dd><dt>Returns</dt><dd>a new interface object or NULL in case of failure. If the interface cannot be found, then <a href="libvirt-virterror.html#VIR_ERR_NO_INTERFACE">VIR_ERR_NO_INTERFACE</a> error is raised.</dd></dl><div class="acl"></div><h3><a name="virInterfaceLookupByName" id="virInterfaceLookupByName"><code>virInterfaceLookupByName</code></a><a class="headerlink" href="#virInterfaceLookupByName" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span>	virInterfaceLookupByName	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
						 <span class="type">const char *</span> name)</pre><div class="description"><p>Try to lookup an interface on the given hypervisor based on its name.</p><p><a href="libvirt-libvirt-interface.html#virInterfaceFree">virInterfaceFree</a> should be used to free the resources after the interface object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to the hypervisor connection</dd><dt>name</dt><dd>name for the interface</dd><dt>Returns</dt><dd>a new interface object or NULL in case of failure. If the interface cannot be found, then <a href="libvirt-virterror.html#VIR_ERR_NO_INTERFACE">VIR_ERR_NO_INTERFACE</a> error is raised.</dd></dl><div class="acl"></div><h3><a name="virInterfaceRef" id="virInterfaceRef"><code>virInterfaceRef</code></a><a class="headerlink" href="#virInterfaceRef" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceRef			(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Increment the reference count on the interface. For each additional call to this method, there shall be a corresponding call to <a href="libvirt-libvirt-interface.html#virInterfaceFree">virInterfaceFree</a> to release the reference count, once the caller no longer needs the reference to this object.</p><p>This method is typically useful for applications where multiple threads are using a connection, and it is required that the connection remain open until all threads have finished using it. ie, each new thread using an interface would increment the reference count.</p></div><dl class="variablelist"><dt>iface</dt><dd>the interface to hold a reference on</dd><dt>Returns</dt><dd>0 in case of success, -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virInterfaceUndefine" id="virInterfaceUndefine"><code>virInterfaceUndefine</code></a><a class="headerlink" href="#virInterfaceUndefine" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virInterfaceUndefine		(<span class="type"><a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a></span> iface)</pre><div class="description"><p>Undefine an interface, ie remove it from the config. This does not free the associated <a href="libvirt-libvirt-interface.html#virInterfacePtr">virInterfacePtr</a> object.</p><p>Normally this change in the interface configuration is permanent/persistent, but if <a href="libvirt-libvirt-interface.html#virInterfaceChangeBegin">virInterfaceChangeBegin</a>() has been previously called (i.e. if an interface config transaction is open), the removal of the interface definition will only become permanent if <a href="libvirt-libvirt-interface.html#virInterfaceChangeCommit">virInterfaceChangeCommit</a>() is called prior to the next reboot of the system running libvirtd. Prior to that time, the definition can be explicitly restored using <a href="libvirt-libvirt-interface.html#virInterfaceChangeRollback">virInterfaceChangeRollback</a>(), or will be automatically restored during the next reboot of the system running libvirtd.</p></div><dl class="variablelist"><dt>iface</dt><dd>pointer to a defined interface</dd><dt>Returns</dt><dd>0 in case of success, -1 in case of error</dd></dl><div class="acl"></div></div></div><div id="footer"><p id="sponsor">
	    Sponsored by:<br /><a href="http://et.redhat.com/"><img src="../et.png" alt="Project sponsored by Red Hat Emerging Technology" /></a></p></div></body></html>
