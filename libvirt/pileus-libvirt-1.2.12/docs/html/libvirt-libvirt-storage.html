<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!--
        This file is autogenerated from html/libvirt-libvirt-storage.html.in
        Do not edit this file. Changes will be lost.
      --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" type="text/css" href="../main.css" /><link rel="SHORTCUT ICON" href="../32favicon.png" /><title>libvirt: Module libvirt-storage from libvirt</title><meta name="description" content="libvirt, virtualization, virtualization API" /></head><body><div id="header"><div id="headerLogo"></div><div id="headerSearch"><form action="../search.php" enctype="application/x-www-form-urlencoded" method="get"><div><input id="query" name="query" type="text" size="12" value="" /><input id="submit" name="submit" type="submit" value="Search" /></div></form></div></div><div id="body"><div id="menu"><ul class="l0"><li><div><a title="Front page of the libvirt website" class="inactive" href="../index.html">Home</a></div></li><li><div><a title="Details of new features and bugs fixed in each release" class="inactive" href="../news.html">News</a></div></li><li><div><a title="Applications known to use libvirt" class="inactive" href="../apps.html">Applications</a></div></li><li><div><a title="Get the latest source releases, binary builds and get access to the source repository" class="inactive" href="../downloads.html">Downloads</a></div></li><li><div><a title="Information for users, administrators and developers" class="active" href="../docs.html">Documentation</a><ul class="l1"><li><div><a title="How to compile libvirt" class="inactive" href="../compiling.html">Compiling</a></div></li><li><div><a title="Information about deploying and using libvirt" class="inactive" href="../deployment.html">Deployment</a></div></li><li><div><a title="Overview of the logical subsystems in the libvirt API" class="inactive" href="../intro.html">Architecture</a></div></li><li><div><a title="Description of the XML formats used in libvirt" class="inactive" href="../format.html">XML format</a></div></li><li><div><a title="Hypervisor specific driver information" class="inactive" href="../drivers.html">Drivers</a></div></li><li><div><a title="Reference manual for the C public API" class="active" href="../html/index.html">API reference</a><ul class="l2"><li><div><a title="domain APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-domain.html">Domain</a></div></li><li><div><a title="domain snapshot APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-domain-snapshot.html">Domain snapshot</a></div></li><li><div><a title="error handling APIs for the libvirt library" class="inactive" href="../html/libvirt-virterror.html">Error</a></div></li><li><div><a title="event APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-event.html">Event</a></div></li><li><div><a title="host APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-host.html">Host</a></div></li><li><div><a title="interface APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-interface.html">Interface</a></div></li><li><div><a title="network APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-network.html">Network</a></div></li><li><div><a title="node device APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-nodedev.html">Node device</a></div></li><li><div><a title="network filter APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-nwfilter.html">Network filter</a></div></li><li><div><a title="secret APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-secret.html">Secret</a></div></li><li><div><span class="active">Storage</span></div></li><li><div><a title="stream APIs for the libvirt library" class="inactive" href="../html/libvirt-libvirt-stream.html">Stream</a></div></li><li><div><a title="matrix of API support per hypervisor per release" class="inactive" href="../hvsupport.html">Driver support</a></div></li></ul></div></li><li><div><a title="Bindings of the libvirt API for other languages" class="inactive" href="../bindings.html">Language bindings</a></div></li><li><div><a title="Working on the internals of libvirt API, driver and daemon code" class="inactive" href="../internals.html">Internals</a></div></li><li><div><a title="A guide and reference for developing with libvirt" class="inactive" href="../devguide.html">Development Guide</a></div></li><li><div><a title="Command reference for virsh" class="inactive" href="../virshcmdref.html">Virsh Commands</a></div></li><li><div><a title="Project governance and code of conduct" class="inactive" href="../governance.html">Governance</a></div></li></ul></div></li><li><div><a title="User contributed content" class="inactive" href="http://wiki.libvirt.org">Wiki</a></div></li><li><div><a title="Frequently asked questions" class="inactive" href="http://wiki.libvirt.org/page/FAQ">FAQ</a></div></li><li><div><a title="How and where to report bugs and request features" class="inactive" href="../bugs.html">Bug reports</a></div></li><li><div><a title="How to contact the developers via email and IRC" class="inactive" href="../contact.html">Contact</a></div></li><li><div><a title="Available test suites for libvirt" class="inactive" href="../testsuites.html">Test suites</a></div></li><li><div><a title="Miscellaneous links of interest related to libvirt" class="inactive" href="../relatedlinks.html">Related Links</a></div></li><li><div><a title="Overview of all content on the website" class="inactive" href="../sitemap.html">Sitemap</a></div></li></ul></div><div id="content"><h1>Module libvirt-storage from libvirt</h1><p>Provides APIs for the management of storage pools and volumes</p><h2>Table of Contents</h2><h3><a href="#types">Types</a></h3><pre class="api"><span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virConnectListAllStoragePoolsFlags">virConnectListAllStoragePoolsFlags</a>
<span class="keyword">typedef</span> <span class="type">struct _virStoragePool</span> <a href="#virStoragePool">virStoragePool</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStoragePoolBuildFlags">virStoragePoolBuildFlags</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStoragePoolDeleteFlags">virStoragePoolDeleteFlags</a>
<span class="keyword">typedef</span> <span class="type">struct _virStoragePoolInfo</span> <a href="#virStoragePoolInfo">virStoragePoolInfo</a>
<span class="keyword">typedef</span> <span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolInfo">virStoragePoolInfo</a> *</span> <a name="virStoragePoolInfoPtr" id="virStoragePoolInfoPtr">virStoragePoolInfoPtr</a>
<span class="keyword">typedef</span> <span class="type"><a href="libvirt-libvirt-storage.html#virStoragePool">virStoragePool</a> *</span> <a name="virStoragePoolPtr" id="virStoragePoolPtr">virStoragePoolPtr</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStoragePoolState">virStoragePoolState</a>
<span class="keyword">typedef</span> <span class="type">struct _virStorageVol</span> <a href="#virStorageVol">virStorageVol</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStorageVolCreateFlags">virStorageVolCreateFlags</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStorageVolDeleteFlags">virStorageVolDeleteFlags</a>
<span class="keyword">typedef</span> <span class="type">struct _virStorageVolInfo</span> <a href="#virStorageVolInfo">virStorageVolInfo</a>
<span class="keyword">typedef</span> <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolInfo">virStorageVolInfo</a> *</span> <a name="virStorageVolInfoPtr" id="virStorageVolInfoPtr">virStorageVolInfoPtr</a>
<span class="keyword">typedef</span> <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVol">virStorageVol</a> *</span> <a name="virStorageVolPtr" id="virStorageVolPtr">virStorageVolPtr</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStorageVolResizeFlags">virStorageVolResizeFlags</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStorageVolType">virStorageVolType</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStorageVolWipeAlgorithm">virStorageVolWipeAlgorithm</a>
<span class="keyword">typedef</span> <span class="keyword">enum</span> <a href="#virStorageXMLFlags">virStorageXMLFlags</a>
</pre><h3><a href="#functions">Functions</a></h3><pre class="api"><span class="type">char *</span>	<a href="#virConnectFindStoragePoolSources">virConnectFindStoragePoolSources</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />						 <span class="type">const char *</span> type, <br />						 <span class="type">const char *</span> srcSpec, <br />						 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virConnectListAllStoragePools">virConnectListAllStoragePools</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> **</span> pools, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virConnectListDefinedStoragePools">virConnectListDefinedStoragePools</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />						 <span class="type">char ** const</span> names, <br />						 <span class="type">int</span> maxnames)
<span class="type">int</span>	<a href="#virConnectListStoragePools">virConnectListStoragePools</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />					 <span class="type">char ** const</span> names, <br />					 <span class="type">int</span> maxnames)
<span class="type">int</span>	<a href="#virConnectNumOfDefinedStoragePools">virConnectNumOfDefinedStoragePools</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)
<span class="type">int</span>	<a href="#virConnectNumOfStoragePools">virConnectNumOfStoragePools</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)
<span class="type">int</span>	<a href="#virStoragePoolBuild">virStoragePoolBuild</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStoragePoolCreate">virStoragePoolCreate</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	<a href="#virStoragePoolCreateXML">virStoragePoolCreateXML</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />						 <span class="type">const char *</span> xmlDesc, <br />						 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	<a href="#virStoragePoolDefineXML">virStoragePoolDefineXML</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />						 <span class="type">const char *</span> xml, <br />						 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStoragePoolDelete">virStoragePoolDelete</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStoragePoolDestroy">virStoragePoolDestroy</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolFree">virStoragePoolFree</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolGetAutostart">virStoragePoolGetAutostart</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">int *</span> autostart)
<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	<a href="#virStoragePoolGetConnect">virStoragePoolGetConnect</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolGetInfo">virStoragePoolGetInfo</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolInfoPtr">virStoragePoolInfoPtr</a></span> info)
<span class="type">const char *</span>	<a href="#virStoragePoolGetName">virStoragePoolGetName</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolGetUUID">virStoragePoolGetUUID</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">unsigned char *</span> uuid)
<span class="type">int</span>	<a href="#virStoragePoolGetUUIDString">virStoragePoolGetUUIDString</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">char *</span> buf)
<span class="type">char *</span>	<a href="#virStoragePoolGetXMLDesc">virStoragePoolGetXMLDesc</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStoragePoolIsActive">virStoragePoolIsActive</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolIsPersistent">virStoragePoolIsPersistent</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolListAllVolumes">virStoragePoolListAllVolumes</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a> **</span> vols, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStoragePoolListVolumes">virStoragePoolListVolumes</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">char ** const</span> names, <br />					 <span class="type">int</span> maxnames)
<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	<a href="#virStoragePoolLookupByName">virStoragePoolLookupByName</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />							 <span class="type">const char *</span> name)
<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	<a href="#virStoragePoolLookupByUUID">virStoragePoolLookupByUUID</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />							 <span class="type">const unsigned char *</span> uuid)
<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	<a href="#virStoragePoolLookupByUUIDString">virStoragePoolLookupByUUIDString</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />							 <span class="type">const char *</span> uuidstr)
<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	<a href="#virStoragePoolLookupByVolume">virStoragePoolLookupByVolume</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type">int</span>	<a href="#virStoragePoolNumOfVolumes">virStoragePoolNumOfVolumes</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolRef">virStoragePoolRef</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type">int</span>	<a href="#virStoragePoolRefresh">virStoragePoolRefresh</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStoragePoolSetAutostart">virStoragePoolSetAutostart</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />					 <span class="type">int</span> autostart)
<span class="type">int</span>	<a href="#virStoragePoolUndefine">virStoragePoolUndefine</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)
<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	<a href="#virStorageVolCreateXML">virStorageVolCreateXML</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />						 <span class="type">const char *</span> xmlDesc, <br />						 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	<a href="#virStorageVolCreateXMLFrom">virStorageVolCreateXMLFrom</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />							 <span class="type">const char *</span> xmlDesc, <br />							 <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> clonevol, <br />							 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStorageVolDelete">virStorageVolDelete</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStorageVolDownload">virStorageVolDownload</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type"><a href="libvirt-libvirt-host.html#virStreamPtr">virStreamPtr</a></span> stream, <br />					 <span class="type">unsigned long long</span> offset, <br />					 <span class="type">unsigned long long</span> length, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStorageVolFree">virStorageVolFree</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	<a href="#virStorageVolGetConnect">virStorageVolGetConnect</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type">int</span>	<a href="#virStorageVolGetInfo">virStorageVolGetInfo</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolInfoPtr">virStorageVolInfoPtr</a></span> info)
<span class="type">const char *</span>	<a href="#virStorageVolGetKey">virStorageVolGetKey</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type">const char *</span>	<a href="#virStorageVolGetName">virStorageVolGetName</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type">char *</span>	<a href="#virStorageVolGetPath">virStorageVolGetPath</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type">char *</span>	<a href="#virStorageVolGetXMLDesc">virStorageVolGetXMLDesc</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type">unsigned int</span> flags)
<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	<a href="#virStorageVolLookupByKey">virStorageVolLookupByKey</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />							 <span class="type">const char *</span> key)
<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	<a href="#virStorageVolLookupByName">virStorageVolLookupByName</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool, <br />							 <span class="type">const char *</span> name)
<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	<a href="#virStorageVolLookupByPath">virStorageVolLookupByPath</a>	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn, <br />							 <span class="type">const char *</span> path)
<span class="type">int</span>	<a href="#virStorageVolRef">virStorageVolRef</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)
<span class="type">int</span>	<a href="#virStorageVolResize">virStorageVolResize</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type">unsigned long long</span> capacity, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStorageVolUpload">virStorageVolUpload</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type"><a href="libvirt-libvirt-host.html#virStreamPtr">virStreamPtr</a></span> stream, <br />					 <span class="type">unsigned long long</span> offset, <br />					 <span class="type">unsigned long long</span> length, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStorageVolWipe">virStorageVolWipe</a>		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type">unsigned int</span> flags)
<span class="type">int</span>	<a href="#virStorageVolWipePattern">virStorageVolWipePattern</a>	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol, <br />					 <span class="type">unsigned int</span> algorithm, <br />					 <span class="type">unsigned int</span> flags)
</pre><h2>Description</h2><h3><a name="types" id="types">Types</a><a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h3><h3><a name="virConnectListAllStoragePoolsFlags" id="virConnectListAllStoragePoolsFlags"><code>virConnectListAllStoragePoolsFlags</code></a><a class="headerlink" href="#virConnectListAllStoragePoolsFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virConnectListAllStoragePoolsFlags {
</pre><table><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_INACTIVE" id="VIR_CONNECT_LIST_STORAGE_POOLS_INACTIVE">VIR_CONNECT_LIST_STORAGE_POOLS_INACTIVE</a></td><td> = </td><td>1</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_ACTIVE" id="VIR_CONNECT_LIST_STORAGE_POOLS_ACTIVE">VIR_CONNECT_LIST_STORAGE_POOLS_ACTIVE</a></td><td> = </td><td>2</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_PERSISTENT" id="VIR_CONNECT_LIST_STORAGE_POOLS_PERSISTENT">VIR_CONNECT_LIST_STORAGE_POOLS_PERSISTENT</a></td><td> = </td><td>4</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_TRANSIENT" id="VIR_CONNECT_LIST_STORAGE_POOLS_TRANSIENT">VIR_CONNECT_LIST_STORAGE_POOLS_TRANSIENT</a></td><td> = </td><td>8</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_AUTOSTART" id="VIR_CONNECT_LIST_STORAGE_POOLS_AUTOSTART">VIR_CONNECT_LIST_STORAGE_POOLS_AUTOSTART</a></td><td> = </td><td>16</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_NO_AUTOSTART" id="VIR_CONNECT_LIST_STORAGE_POOLS_NO_AUTOSTART">VIR_CONNECT_LIST_STORAGE_POOLS_NO_AUTOSTART</a></td><td> = </td><td>32</td><td><div class="comment">List pools by type</div></td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_DIR" id="VIR_CONNECT_LIST_STORAGE_POOLS_DIR">VIR_CONNECT_LIST_STORAGE_POOLS_DIR</a></td><td> = </td><td>64</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_FS" id="VIR_CONNECT_LIST_STORAGE_POOLS_FS">VIR_CONNECT_LIST_STORAGE_POOLS_FS</a></td><td> = </td><td>128</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_NETFS" id="VIR_CONNECT_LIST_STORAGE_POOLS_NETFS">VIR_CONNECT_LIST_STORAGE_POOLS_NETFS</a></td><td> = </td><td>256</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_LOGICAL" id="VIR_CONNECT_LIST_STORAGE_POOLS_LOGICAL">VIR_CONNECT_LIST_STORAGE_POOLS_LOGICAL</a></td><td> = </td><td>512</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_DISK" id="VIR_CONNECT_LIST_STORAGE_POOLS_DISK">VIR_CONNECT_LIST_STORAGE_POOLS_DISK</a></td><td> = </td><td>1024</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_ISCSI" id="VIR_CONNECT_LIST_STORAGE_POOLS_ISCSI">VIR_CONNECT_LIST_STORAGE_POOLS_ISCSI</a></td><td> = </td><td>2048</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_SCSI" id="VIR_CONNECT_LIST_STORAGE_POOLS_SCSI">VIR_CONNECT_LIST_STORAGE_POOLS_SCSI</a></td><td> = </td><td>4096</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_MPATH" id="VIR_CONNECT_LIST_STORAGE_POOLS_MPATH">VIR_CONNECT_LIST_STORAGE_POOLS_MPATH</a></td><td> = </td><td>8192</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_RBD" id="VIR_CONNECT_LIST_STORAGE_POOLS_RBD">VIR_CONNECT_LIST_STORAGE_POOLS_RBD</a></td><td> = </td><td>16384</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_SHEEPDOG" id="VIR_CONNECT_LIST_STORAGE_POOLS_SHEEPDOG">VIR_CONNECT_LIST_STORAGE_POOLS_SHEEPDOG</a></td><td> = </td><td>32768</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_GLUSTER" id="VIR_CONNECT_LIST_STORAGE_POOLS_GLUSTER">VIR_CONNECT_LIST_STORAGE_POOLS_GLUSTER</a></td><td> = </td><td>65536</td></tr><tr><td><a name="VIR_CONNECT_LIST_STORAGE_POOLS_ZFS" id="VIR_CONNECT_LIST_STORAGE_POOLS_ZFS">VIR_CONNECT_LIST_STORAGE_POOLS_ZFS</a></td><td> = </td><td>131072</td></tr></table><pre>}
</pre></div><h3><a name="virStoragePool" id="virStoragePool"><code>virStoragePool</code></a><a class="headerlink" href="#virStoragePool" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">struct </span>virStoragePool {
</pre><div class="undisclosed">The content of this structure is not made public by the API</div><pre>
}
</pre></div><h3><a name="virStoragePoolBuildFlags" id="virStoragePoolBuildFlags"><code>virStoragePoolBuildFlags</code></a><a class="headerlink" href="#virStoragePoolBuildFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStoragePoolBuildFlags {
</pre><table><tr><td><a name="VIR_STORAGE_POOL_BUILD_NEW" id="VIR_STORAGE_POOL_BUILD_NEW">VIR_STORAGE_POOL_BUILD_NEW</a></td><td> = </td><td>0</td><td><div class="comment">Regular build from scratch</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_BUILD_REPAIR" id="VIR_STORAGE_POOL_BUILD_REPAIR">VIR_STORAGE_POOL_BUILD_REPAIR</a></td><td> = </td><td>1</td><td><div class="comment">Repair / reinitialize</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_BUILD_RESIZE" id="VIR_STORAGE_POOL_BUILD_RESIZE">VIR_STORAGE_POOL_BUILD_RESIZE</a></td><td> = </td><td>2</td><td><div class="comment">Extend existing pool</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_BUILD_NO_OVERWRITE" id="VIR_STORAGE_POOL_BUILD_NO_OVERWRITE">VIR_STORAGE_POOL_BUILD_NO_OVERWRITE</a></td><td> = </td><td>4</td><td><div class="comment">Do not overwrite existing pool</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_BUILD_OVERWRITE" id="VIR_STORAGE_POOL_BUILD_OVERWRITE">VIR_STORAGE_POOL_BUILD_OVERWRITE</a></td><td> = </td><td>8</td><td><div class="comment">Overwrite data</div></td></tr></table><pre>}
</pre></div><h3><a name="virStoragePoolDeleteFlags" id="virStoragePoolDeleteFlags"><code>virStoragePoolDeleteFlags</code></a><a class="headerlink" href="#virStoragePoolDeleteFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStoragePoolDeleteFlags {
</pre><table><tr><td><a name="VIR_STORAGE_POOL_DELETE_NORMAL" id="VIR_STORAGE_POOL_DELETE_NORMAL">VIR_STORAGE_POOL_DELETE_NORMAL</a></td><td> = </td><td>0</td><td><div class="comment">Delete metadata only (fast)</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_DELETE_ZEROED" id="VIR_STORAGE_POOL_DELETE_ZEROED">VIR_STORAGE_POOL_DELETE_ZEROED</a></td><td> = </td><td>1</td><td><div class="comment">Clear all data to zeros (slow)</div></td></tr></table><pre>}
</pre></div><h3><a name="virStoragePoolInfo" id="virStoragePoolInfo"><code>virStoragePoolInfo</code></a><a class="headerlink" href="#virStoragePoolInfo" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">struct </span>virStoragePoolInfo {
</pre><table><tr><td><span class="type">int</span></td><td>state</td><td><div class="comment"><a href="libvirt-libvirt-storage.html#virStoragePoolState">virStoragePoolState</a> flags</div></td></tr><tr><td><span class="type">unsigned long long</span></td><td>capacity</td><td><div class="comment">Logical size bytes</div></td></tr><tr><td><span class="type">unsigned long long</span></td><td>allocation</td><td><div class="comment">Current allocation bytes</div></td></tr><tr><td><span class="type">unsigned long long</span></td><td>available</td><td><div class="comment">Remaining free space bytes</div></td></tr></table><pre>
}
</pre></div><h3><a name="virStoragePoolState" id="virStoragePoolState"><code>virStoragePoolState</code></a><a class="headerlink" href="#virStoragePoolState" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStoragePoolState {
</pre><table><tr><td><a name="VIR_STORAGE_POOL_INACTIVE" id="VIR_STORAGE_POOL_INACTIVE">VIR_STORAGE_POOL_INACTIVE</a></td><td> = </td><td>0</td><td><div class="comment">Not running</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_BUILDING" id="VIR_STORAGE_POOL_BUILDING">VIR_STORAGE_POOL_BUILDING</a></td><td> = </td><td>1</td><td><div class="comment">Initializing pool, not available</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_RUNNING" id="VIR_STORAGE_POOL_RUNNING">VIR_STORAGE_POOL_RUNNING</a></td><td> = </td><td>2</td><td><div class="comment">Running normally</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_DEGRADED" id="VIR_STORAGE_POOL_DEGRADED">VIR_STORAGE_POOL_DEGRADED</a></td><td> = </td><td>3</td><td><div class="comment">Running degraded</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_INACCESSIBLE" id="VIR_STORAGE_POOL_INACCESSIBLE">VIR_STORAGE_POOL_INACCESSIBLE</a></td><td> = </td><td>4</td><td><div class="comment">Running, but not accessible</div></td></tr><tr><td><a name="VIR_STORAGE_POOL_STATE_LAST" id="VIR_STORAGE_POOL_STATE_LAST">VIR_STORAGE_POOL_STATE_LAST</a></td><td> = </td><td>5</td></tr></table><pre>}
</pre></div><h3><a name="virStorageVol" id="virStorageVol"><code>virStorageVol</code></a><a class="headerlink" href="#virStorageVol" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">struct </span>virStorageVol {
</pre><div class="undisclosed">The content of this structure is not made public by the API</div><pre>
}
</pre></div><h3><a name="virStorageVolCreateFlags" id="virStorageVolCreateFlags"><code>virStorageVolCreateFlags</code></a><a class="headerlink" href="#virStorageVolCreateFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStorageVolCreateFlags {
</pre><table><tr><td><a name="VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA" id="VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA">VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA</a></td><td> = </td><td>1</td></tr></table><pre>}
</pre></div><h3><a name="virStorageVolDeleteFlags" id="virStorageVolDeleteFlags"><code>virStorageVolDeleteFlags</code></a><a class="headerlink" href="#virStorageVolDeleteFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStorageVolDeleteFlags {
</pre><table><tr><td><a name="VIR_STORAGE_VOL_DELETE_NORMAL" id="VIR_STORAGE_VOL_DELETE_NORMAL">VIR_STORAGE_VOL_DELETE_NORMAL</a></td><td> = </td><td>0</td><td><div class="comment">Delete metadata only (fast)</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_DELETE_ZEROED" id="VIR_STORAGE_VOL_DELETE_ZEROED">VIR_STORAGE_VOL_DELETE_ZEROED</a></td><td> = </td><td>1</td><td><div class="comment">Clear all data to zeros (slow)</div></td></tr></table><pre>}
</pre></div><h3><a name="virStorageVolInfo" id="virStorageVolInfo"><code>virStorageVolInfo</code></a><a class="headerlink" href="#virStorageVolInfo" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">struct </span>virStorageVolInfo {
</pre><table><tr><td><span class="type">int</span></td><td>type</td><td><div class="comment"><a href="libvirt-libvirt-storage.html#virStorageVolType">virStorageVolType</a> flags</div></td></tr><tr><td><span class="type">unsigned long long</span></td><td>capacity</td><td><div class="comment">Logical size bytes</div></td></tr><tr><td><span class="type">unsigned long long</span></td><td>allocation</td><td><div class="comment">Current allocation bytes</div></td></tr></table><pre>
}
</pre></div><h3><a name="virStorageVolResizeFlags" id="virStorageVolResizeFlags"><code>virStorageVolResizeFlags</code></a><a class="headerlink" href="#virStorageVolResizeFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStorageVolResizeFlags {
</pre><table><tr><td><a name="VIR_STORAGE_VOL_RESIZE_ALLOCATE" id="VIR_STORAGE_VOL_RESIZE_ALLOCATE">VIR_STORAGE_VOL_RESIZE_ALLOCATE</a></td><td> = </td><td>1</td><td><div class="comment">force allocation of new size</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_RESIZE_DELTA" id="VIR_STORAGE_VOL_RESIZE_DELTA">VIR_STORAGE_VOL_RESIZE_DELTA</a></td><td> = </td><td>2</td><td><div class="comment">size is relative to current</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_RESIZE_SHRINK" id="VIR_STORAGE_VOL_RESIZE_SHRINK">VIR_STORAGE_VOL_RESIZE_SHRINK</a></td><td> = </td><td>4</td><td><div class="comment">allow decrease in capacity</div></td></tr></table><pre>}
</pre></div><h3><a name="virStorageVolType" id="virStorageVolType"><code>virStorageVolType</code></a><a class="headerlink" href="#virStorageVolType" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStorageVolType {
</pre><table><tr><td><a name="VIR_STORAGE_VOL_FILE" id="VIR_STORAGE_VOL_FILE">VIR_STORAGE_VOL_FILE</a></td><td> = </td><td>0</td><td><div class="comment">Regular file based volumes</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_BLOCK" id="VIR_STORAGE_VOL_BLOCK">VIR_STORAGE_VOL_BLOCK</a></td><td> = </td><td>1</td><td><div class="comment">Block based volumes</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_DIR" id="VIR_STORAGE_VOL_DIR">VIR_STORAGE_VOL_DIR</a></td><td> = </td><td>2</td><td><div class="comment">Directory-passthrough based volume</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_NETWORK" id="VIR_STORAGE_VOL_NETWORK">VIR_STORAGE_VOL_NETWORK</a></td><td> = </td><td>3</td><td><div class="comment">Network volumes like RBD (RADOS Block Device)</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_NETDIR" id="VIR_STORAGE_VOL_NETDIR">VIR_STORAGE_VOL_NETDIR</a></td><td> = </td><td>4</td><td><div class="comment">Network accessible directory that can contain other network volumes</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_LAST" id="VIR_STORAGE_VOL_LAST">VIR_STORAGE_VOL_LAST</a></td><td> = </td><td>5</td></tr></table><pre>}
</pre></div><h3><a name="virStorageVolWipeAlgorithm" id="virStorageVolWipeAlgorithm"><code>virStorageVolWipeAlgorithm</code></a><a class="headerlink" href="#virStorageVolWipeAlgorithm" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStorageVolWipeAlgorithm {
</pre><table><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_ZERO" id="VIR_STORAGE_VOL_WIPE_ALG_ZERO">VIR_STORAGE_VOL_WIPE_ALG_ZERO</a></td><td> = </td><td>0</td><td><div class="comment">1-pass, all zeroes</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_NNSA" id="VIR_STORAGE_VOL_WIPE_ALG_NNSA">VIR_STORAGE_VOL_WIPE_ALG_NNSA</a></td><td> = </td><td>1</td><td><div class="comment">4-pass NNSA Policy Letter NAP-14.1-C (XVI-8)</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_DOD" id="VIR_STORAGE_VOL_WIPE_ALG_DOD">VIR_STORAGE_VOL_WIPE_ALG_DOD</a></td><td> = </td><td>2</td><td><div class="comment">4-pass DoD 5220.22-M section 8-306 procedure</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_BSI" id="VIR_STORAGE_VOL_WIPE_ALG_BSI">VIR_STORAGE_VOL_WIPE_ALG_BSI</a></td><td> = </td><td>3</td><td><div class="comment">9-pass method recommended by the German Center of Security in Information Technologies</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_GUTMANN" id="VIR_STORAGE_VOL_WIPE_ALG_GUTMANN">VIR_STORAGE_VOL_WIPE_ALG_GUTMANN</a></td><td> = </td><td>4</td><td><div class="comment">The canonical 35-pass sequence</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_SCHNEIER" id="VIR_STORAGE_VOL_WIPE_ALG_SCHNEIER">VIR_STORAGE_VOL_WIPE_ALG_SCHNEIER</a></td><td> = </td><td>5</td><td><div class="comment">7-pass method described by Bruce Schneier in "Applied Cryptography" (1996)</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_PFITZNER7" id="VIR_STORAGE_VOL_WIPE_ALG_PFITZNER7">VIR_STORAGE_VOL_WIPE_ALG_PFITZNER7</a></td><td> = </td><td>6</td><td><div class="comment">7-pass random</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_PFITZNER33" id="VIR_STORAGE_VOL_WIPE_ALG_PFITZNER33">VIR_STORAGE_VOL_WIPE_ALG_PFITZNER33</a></td><td> = </td><td>7</td><td><div class="comment">33-pass random</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_RANDOM" id="VIR_STORAGE_VOL_WIPE_ALG_RANDOM">VIR_STORAGE_VOL_WIPE_ALG_RANDOM</a></td><td> = </td><td>8</td><td><div class="comment">1-pass random</div></td></tr><tr><td><a name="VIR_STORAGE_VOL_WIPE_ALG_LAST" id="VIR_STORAGE_VOL_WIPE_ALG_LAST">VIR_STORAGE_VOL_WIPE_ALG_LAST</a></td><td> = </td><td>9</td><td><div class="comment">NB: this enum value will increase over time as new algorithms are added to the libvirt API. It reflects the last algorithm supported by this version of the libvirt API.</div></td></tr></table><pre>}
</pre></div><h3><a name="virStorageXMLFlags" id="virStorageXMLFlags"><code>virStorageXMLFlags</code></a><a class="headerlink" href="#virStorageXMLFlags" title="Permalink to this headline">¶</a></h3><div class="api"><pre><span class="keyword">enum</span> virStorageXMLFlags {
</pre><table><tr><td><a name="VIR_STORAGE_XML_INACTIVE" id="VIR_STORAGE_XML_INACTIVE">VIR_STORAGE_XML_INACTIVE</a></td><td> = </td><td>1</td><td><div class="comment">dump inactive pool/volume information</div></td></tr></table><pre>}
</pre></div><h3><a name="functions" id="functions">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3><h3><a name="virConnectFindStoragePoolSources" id="virConnectFindStoragePoolSources"><code>virConnectFindStoragePoolSources</code></a><a class="headerlink" href="#virConnectFindStoragePoolSources" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">char *</span>	virConnectFindStoragePoolSources	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
						 <span class="type">const char *</span> type,
						 <span class="type">const char *</span> srcSpec,
						 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Talks to a storage backend and attempts to auto-discover the set of available storage pool sources. e.g. For iSCSI this would be a set of iSCSI targets. For NFS this would be a list of exported paths. The srcSpec (optional for some storage pool types, e.g. local ones) is an instance of the storage pool's source element specifying where to look for the pools.</p><p>srcSpec is not required for some types (e.g., those querying local storage resources only)</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>type</dt><dd>type of storage pool sources to discover</dd><dt>srcSpec</dt><dd>XML document specifying discovery source</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>an xml document consisting of a SourceList element containing a source document appropriate to the given pool type for each discovered source.</dd></dl><div class="acl"></div><h3><a name="virConnectListAllStoragePools" id="virConnectListAllStoragePools"><code>virConnectListAllStoragePools</code></a><a class="headerlink" href="#virConnectListAllStoragePools" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectListAllStoragePools	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> **</span> pools,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Collect the list of storage pools, and allocate an array to store those objects. This API solves the race inherent between <a href="libvirt-libvirt-storage.html#virConnectListStoragePools">virConnectListStoragePools</a> and <a href="libvirt-libvirt-storage.html#virConnectListDefinedStoragePools">virConnectListDefinedStoragePools</a>.</p><p>Normally, all storage pools are returned; however, @flags can be used to filter the results for a smaller list of targeted pools. The valid flags are divided into groups, where each group contains bits that describe mutually exclusive attributes of a pool, and where all bits within a group describe all possible pools.</p><p>The first group of @flags is <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_ACTIVE">VIR_CONNECT_LIST_STORAGE_POOLS_ACTIVE</a> (online) and <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_INACTIVE">VIR_CONNECT_LIST_STORAGE_POOLS_INACTIVE</a> (offline) to filter the pools by state.</p><p>The second group of @flags is VIR_CONNECT_LIST_STORAGE_POOLS_PERSITENT (defined) and <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_TRANSIENT">VIR_CONNECT_LIST_STORAGE_POOLS_TRANSIENT</a> (running but not defined), to filter the pools by whether they have persistent config or not.</p><p>The third group of @flags is <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_AUTOSTART">VIR_CONNECT_LIST_STORAGE_POOLS_AUTOSTART</a> and <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_NO_AUTOSTART">VIR_CONNECT_LIST_STORAGE_POOLS_NO_AUTOSTART</a>, to filter the pools by whether they are marked as autostart or not.</p><p>The last group of @flags is provided to filter the pools by the types, the flags include: <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_DIR">VIR_CONNECT_LIST_STORAGE_POOLS_DIR</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_FS">VIR_CONNECT_LIST_STORAGE_POOLS_FS</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_NETFS">VIR_CONNECT_LIST_STORAGE_POOLS_NETFS</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_LOGICAL">VIR_CONNECT_LIST_STORAGE_POOLS_LOGICAL</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_DISK">VIR_CONNECT_LIST_STORAGE_POOLS_DISK</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_ISCSI">VIR_CONNECT_LIST_STORAGE_POOLS_ISCSI</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_SCSI">VIR_CONNECT_LIST_STORAGE_POOLS_SCSI</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_MPATH">VIR_CONNECT_LIST_STORAGE_POOLS_MPATH</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_RBD">VIR_CONNECT_LIST_STORAGE_POOLS_RBD</a> <a href="libvirt-libvirt-storage.html#VIR_CONNECT_LIST_STORAGE_POOLS_SHEEPDOG">VIR_CONNECT_LIST_STORAGE_POOLS_SHEEPDOG</a></p></div><dl class="variablelist"><dt>conn</dt><dd>Pointer to the hypervisor connection.</dd><dt>pools</dt><dd>Pointer to a variable to store the array containing storage pool objects or NULL if the list is not required (just returns number of pools).</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virConnectListAllStoragePoolsFlags">virConnectListAllStoragePoolsFlags</a>.</dd><dt>Returns</dt><dd>the number of storage pools found or -1 and sets @pools to NULL in case of error. On success, the array stored into @pools is guaranteed to have an extra allocated element set to NULL but not included in the return count, to make iteration easier. The caller is responsible for calling <a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a>() on each array element, then calling free() on @pools.</dd></dl><div class="acl"></div><h3><a name="virConnectListDefinedStoragePools" id="virConnectListDefinedStoragePools"><code>virConnectListDefinedStoragePools</code></a><a class="headerlink" href="#virConnectListDefinedStoragePools" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectListDefinedStoragePools	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
						 <span class="type">char ** const</span> names,
						 <span class="type">int</span> maxnames)</pre><div class="description"><p>Provides the list of names of inactive storage pools up to maxnames. If there are more than maxnames, the remaining names will be silently ignored.</p><p>For more control over the results, see <a href="libvirt-libvirt-storage.html#virConnectListAllStoragePools">virConnectListAllStoragePools</a>().</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>names</dt><dd>array of char * to fill with pool names (allocated by caller)</dd><dt>maxnames</dt><dd>size of the names array</dd><dt>Returns</dt><dd>the number of names provided in the array or -1 in case of error. Note that this command is inherently racy; a pool can be defined between a call to <a href="libvirt-libvirt-storage.html#virConnectNumOfDefinedStoragePools">virConnectNumOfDefinedStoragePools</a>() and this call; you are only guaranteed that all currently defined pools were listed if the return is less than @maxnames. The client must call free() on each returned name.</dd></dl><div class="acl"></div><h3><a name="virConnectListStoragePools" id="virConnectListStoragePools"><code>virConnectListStoragePools</code></a><a class="headerlink" href="#virConnectListStoragePools" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectListStoragePools	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
					 <span class="type">char ** const</span> names,
					 <span class="type">int</span> maxnames)</pre><div class="description"><p>Provides the list of names of active storage pools up to maxnames. If there are more than maxnames, the remaining names will be silently ignored.</p><p>For more control over the results, see <a href="libvirt-libvirt-storage.html#virConnectListAllStoragePools">virConnectListAllStoragePools</a>().</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>names</dt><dd>array of char * to fill with pool names (allocated by caller)</dd><dt>maxnames</dt><dd>size of the names array</dd><dt>Returns</dt><dd>the number of pools found or -1 in case of error. Note that this command is inherently racy; a pool can be started between a call to <a href="libvirt-libvirt-storage.html#virConnectNumOfStoragePools">virConnectNumOfStoragePools</a>() and this call; you are only guaranteed that all currently active pools were listed if the return is less than @maxnames. The client must call free() on each returned name.</dd></dl><div class="acl"></div><h3><a name="virConnectNumOfDefinedStoragePools" id="virConnectNumOfDefinedStoragePools"><code>virConnectNumOfDefinedStoragePools</code></a><a class="headerlink" href="#virConnectNumOfDefinedStoragePools" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectNumOfDefinedStoragePools	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)</pre><div class="description"><p>Provides the number of inactive storage pools</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>Returns</dt><dd>the number of pools found, or -1 on error</dd></dl><div class="acl"></div><h3><a name="virConnectNumOfStoragePools" id="virConnectNumOfStoragePools"><code>virConnectNumOfStoragePools</code></a><a class="headerlink" href="#virConnectNumOfStoragePools" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virConnectNumOfStoragePools	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn)</pre><div class="description"><p>Provides the number of active storage pools</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>Returns</dt><dd>the number of pools found, or -1 on error</dd></dl><div class="acl"></div><h3><a name="virStoragePoolBuild" id="virStoragePoolBuild"><code>virStoragePoolBuild</code></a><a class="headerlink" href="#virStoragePoolBuild" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolBuild		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Currently only filesystem pool accepts flags <a href="libvirt-libvirt-storage.html#VIR_STORAGE_POOL_BUILD_OVERWRITE">VIR_STORAGE_POOL_BUILD_OVERWRITE</a> and <a href="libvirt-libvirt-storage.html#VIR_STORAGE_POOL_BUILD_NO_OVERWRITE">VIR_STORAGE_POOL_BUILD_NO_OVERWRITE</a>.</p><p>Build the underlying storage pool</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virStoragePoolBuildFlags">virStoragePoolBuildFlags</a></dd><dt>Returns</dt><dd>0 on success, or -1 upon failure</dd></dl><div class="acl"></div><h3><a name="virStoragePoolCreate" id="virStoragePoolCreate"><code>virStoragePoolCreate</code></a><a class="headerlink" href="#virStoragePoolCreate" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolCreate		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Starts an inactive storage pool</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 on success, or -1 if it could not be started</dd></dl><div class="acl"></div><h3><a name="virStoragePoolCreateXML" id="virStoragePoolCreateXML"><code>virStoragePoolCreateXML</code></a><a class="headerlink" href="#virStoragePoolCreateXML" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	virStoragePoolCreateXML	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
						 <span class="type">const char *</span> xmlDesc,
						 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Create a new storage based on its XML description. The pool is not persistent, so its definition will disappear when it is destroyed, or if the host is restarted</p><p><a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> should be used to free the resources after the storage pool object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>xmlDesc</dt><dd>XML description for new pool</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>a <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object, or NULL if creation failed</dd></dl><div class="acl"></div><h3><a name="virStoragePoolDefineXML" id="virStoragePoolDefineXML"><code>virStoragePoolDefineXML</code></a><a class="headerlink" href="#virStoragePoolDefineXML" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	virStoragePoolDefineXML	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
						 <span class="type">const char *</span> xml,
						 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Define a new inactive storage pool based on its XML description. The pool is persistent, until explicitly undefined.</p><p><a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> should be used to free the resources after the storage pool object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>xml</dt><dd>XML description for new pool</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>a <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object, or NULL if creation failed</dd></dl><div class="acl"></div><h3><a name="virStoragePoolDelete" id="virStoragePoolDelete"><code>virStoragePoolDelete</code></a><a class="headerlink" href="#virStoragePoolDelete" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolDelete		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Delete the underlying pool resources. This is a non-recoverable operation. The <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object itself is not free'd.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virStoragePoolDeleteFlags">virStoragePoolDeleteFlags</a></dd><dt>Returns</dt><dd>0 on success, or -1 if it could not be obliterate</dd></dl><div class="acl"></div><h3><a name="virStoragePoolDestroy" id="virStoragePoolDestroy"><code>virStoragePoolDestroy</code></a><a class="headerlink" href="#virStoragePoolDestroy" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolDestroy		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Destroy an active storage pool. This will deactivate the pool on the host, but keep any persistent config associated with it. If it has a persistent config it can later be restarted with <a href="libvirt-libvirt-storage.html#virStoragePoolCreate">virStoragePoolCreate</a>(). This does not free the associated <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>Returns</dt><dd>0 on success, or -1 if it could not be destroyed</dd></dl><div class="acl"></div><h3><a name="virStoragePoolFree" id="virStoragePoolFree"><code>virStoragePoolFree</code></a><a class="headerlink" href="#virStoragePoolFree" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolFree		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Free a storage pool object, releasing all memory associated with it. Does not change the state of the pool on the host.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>Returns</dt><dd>0 on success, or -1 if it could not be free'd.</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetAutostart" id="virStoragePoolGetAutostart"><code>virStoragePoolGetAutostart</code></a><a class="headerlink" href="#virStoragePoolGetAutostart" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolGetAutostart	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">int *</span> autostart)</pre><div class="description"><p>Fetches the value of the autostart flag, which determines whether the pool is automatically started at boot time</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>autostart</dt><dd>location in which to store autostart flag</dd><dt>Returns</dt><dd>0 on success, -1 on failure</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetConnect" id="virStoragePoolGetConnect"><code>virStoragePoolGetConnect</code></a><a class="headerlink" href="#virStoragePoolGetConnect" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	virStoragePoolGetConnect	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Provides the connection pointer associated with a storage pool. The reference counter on the connection is not increased by this call.</p><p>WARNING: When writing libvirt bindings in other languages, do not use this function. Instead, store the connection and the pool object together.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to a pool</dd><dt>Returns</dt><dd>the <a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a> or NULL in case of failure.</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetInfo" id="virStoragePoolGetInfo"><code>virStoragePoolGetInfo</code></a><a class="headerlink" href="#virStoragePoolGetInfo" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolGetInfo		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolInfoPtr">virStoragePoolInfoPtr</a></span> info)</pre><div class="description"><p>Get volatile information about the storage pool such as free space / usage summary</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>info</dt><dd>pointer at which to store info</dd><dt>Returns</dt><dd>0 on success, or -1 on failure.</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetName" id="virStoragePoolGetName"><code>virStoragePoolGetName</code></a><a class="headerlink" href="#virStoragePoolGetName" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">const char *</span>	virStoragePoolGetName	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Fetch the locally unique name of the storage pool</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>Returns</dt><dd>the name of the pool, or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetUUID" id="virStoragePoolGetUUID"><code>virStoragePoolGetUUID</code></a><a class="headerlink" href="#virStoragePoolGetUUID" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolGetUUID		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">unsigned char *</span> uuid)</pre><div class="description"><p>Fetch the globally unique ID of the storage pool</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>uuid</dt><dd>buffer of <a href="libvirt-libvirt-host.html#VIR_UUID_BUFLEN">VIR_UUID_BUFLEN</a> bytes in size</dd><dt>Returns</dt><dd>0 on success, or -1 on error;</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetUUIDString" id="virStoragePoolGetUUIDString"><code>virStoragePoolGetUUIDString</code></a><a class="headerlink" href="#virStoragePoolGetUUIDString" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolGetUUIDString	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">char *</span> buf)</pre><div class="description"><p>Fetch the globally unique ID of the storage pool as a string</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>buf</dt><dd>buffer of <a href="libvirt-libvirt-host.html#VIR_UUID_STRING_BUFLEN">VIR_UUID_STRING_BUFLEN</a> bytes in size</dd><dt>Returns</dt><dd>0 on success, or -1 on error;</dd></dl><div class="acl"></div><h3><a name="virStoragePoolGetXMLDesc" id="virStoragePoolGetXMLDesc"><code>virStoragePoolGetXMLDesc</code></a><a class="headerlink" href="#virStoragePoolGetXMLDesc" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">char *</span>	virStoragePoolGetXMLDesc	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Fetch an XML document describing all aspects of the storage pool. This is suitable for later feeding back into the <a href="libvirt-libvirt-storage.html#virStoragePoolCreateXML">virStoragePoolCreateXML</a> method.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virStorageXMLFlags">virStorageXMLFlags</a></dd><dt>Returns</dt><dd>a XML document (caller frees), or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStoragePoolIsActive" id="virStoragePoolIsActive"><code>virStoragePoolIsActive</code></a><a class="headerlink" href="#virStoragePoolIsActive" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolIsActive		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Determine if the storage pool is currently running</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to the storage pool object</dd><dt>Returns</dt><dd>1 if running, 0 if inactive, -1 on error</dd></dl><div class="acl"></div><h3><a name="virStoragePoolIsPersistent" id="virStoragePoolIsPersistent"><code>virStoragePoolIsPersistent</code></a><a class="headerlink" href="#virStoragePoolIsPersistent" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolIsPersistent	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Determine if the storage pool has a persistent configuration which means it will still exist after shutting down</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to the storage pool object</dd><dt>Returns</dt><dd>1 if persistent, 0 if transient, -1 on error</dd></dl><div class="acl"></div><h3><a name="virStoragePoolListAllVolumes" id="virStoragePoolListAllVolumes"><code>virStoragePoolListAllVolumes</code></a><a class="headerlink" href="#virStoragePoolListAllVolumes" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolListAllVolumes	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a> **</span> vols,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Collect the list of storage volumes, and allocate an array to store those objects.</p></div><dl class="variablelist"><dt>pool</dt><dd>Pointer to storage pool</dd><dt>vols</dt><dd>Pointer to a variable to store the array containing storage volume objects or NULL if the list is not required (just returns number of volumes).</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>the number of storage volumes found or -1 and sets @vols to NULL in case of error. On success, the array stored into @vols is guaranteed to have an extra allocated element set to NULL but not included in the return count, to make iteration easier. The caller is responsible for calling <a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a>() on each array element, then calling free() on @vols.</dd></dl><div class="acl"></div><h3><a name="virStoragePoolListVolumes" id="virStoragePoolListVolumes"><code>virStoragePoolListVolumes</code></a><a class="headerlink" href="#virStoragePoolListVolumes" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolListVolumes	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">char ** const</span> names,
					 <span class="type">int</span> maxnames)</pre><div class="description"><p>Fetch list of storage volume names, limiting to at most maxnames.</p><p>To list the volume objects directly, see <a href="libvirt-libvirt-storage.html#virStoragePoolListAllVolumes">virStoragePoolListAllVolumes</a>().</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>names</dt><dd>array in which to storage volume names</dd><dt>maxnames</dt><dd>size of names array</dd><dt>Returns</dt><dd>the number of names fetched, or -1 on error</dd></dl><div class="acl"></div><h3><a name="virStoragePoolLookupByName" id="virStoragePoolLookupByName"><code>virStoragePoolLookupByName</code></a><a class="headerlink" href="#virStoragePoolLookupByName" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	virStoragePoolLookupByName	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
							 <span class="type">const char *</span> name)</pre><div class="description"><p>Fetch a storage pool based on its unique name</p><p><a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> should be used to free the resources after the storage pool object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>name</dt><dd>name of pool to fetch</dd><dt>Returns</dt><dd>a <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object, or NULL if no matching pool is found</dd></dl><div class="acl"></div><h3><a name="virStoragePoolLookupByUUID" id="virStoragePoolLookupByUUID"><code>virStoragePoolLookupByUUID</code></a><a class="headerlink" href="#virStoragePoolLookupByUUID" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	virStoragePoolLookupByUUID	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
							 <span class="type">const unsigned char *</span> uuid)</pre><div class="description"><p>Fetch a storage pool based on its globally unique id</p><p><a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> should be used to free the resources after the storage pool object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>uuid</dt><dd>globally unique id of pool to fetch</dd><dt>Returns</dt><dd>a <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object, or NULL if no matching pool is found</dd></dl><div class="acl"></div><h3><a name="virStoragePoolLookupByUUIDString" id="virStoragePoolLookupByUUIDString"><code>virStoragePoolLookupByUUIDString</code></a><a class="headerlink" href="#virStoragePoolLookupByUUIDString" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	virStoragePoolLookupByUUIDString	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
							 <span class="type">const char *</span> uuidstr)</pre><div class="description"><p>Fetch a storage pool based on its globally unique id</p><p><a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> should be used to free the resources after the storage pool object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>uuidstr</dt><dd>globally unique id of pool to fetch</dd><dt>Returns</dt><dd>a <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object, or NULL if no matching pool is found</dd></dl><div class="acl"></div><h3><a name="virStoragePoolLookupByVolume" id="virStoragePoolLookupByVolume"><code>virStoragePoolLookupByVolume</code></a><a class="headerlink" href="#virStoragePoolLookupByVolume" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span>	virStoragePoolLookupByVolume	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Fetch a storage pool which contains a particular volume</p><p><a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> should be used to free the resources after the storage pool object is no longer needed.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>Returns</dt><dd>a <a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a> object, or NULL if no matching pool is found</dd></dl><div class="acl"></div><h3><a name="virStoragePoolNumOfVolumes" id="virStoragePoolNumOfVolumes"><code>virStoragePoolNumOfVolumes</code></a><a class="headerlink" href="#virStoragePoolNumOfVolumes" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolNumOfVolumes	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Fetch the number of storage volumes within a pool</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>Returns</dt><dd>the number of storage pools, or -1 on failure</dd></dl><div class="acl"></div><h3><a name="virStoragePoolRef" id="virStoragePoolRef"><code>virStoragePoolRef</code></a><a class="headerlink" href="#virStoragePoolRef" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolRef		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Increment the reference count on the pool. For each additional call to this method, there shall be a corresponding call to <a href="libvirt-libvirt-storage.html#virStoragePoolFree">virStoragePoolFree</a> to release the reference count, once the caller no longer needs the reference to this object.</p><p>This method is typically useful for applications where multiple threads are using a connection, and it is required that the connection remain open until all threads have finished using it. ie, each new thread using a pool would increment the reference count.</p></div><dl class="variablelist"><dt>pool</dt><dd>the pool to hold a reference on</dd><dt>Returns</dt><dd>0 in case of success, -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virStoragePoolRefresh" id="virStoragePoolRefresh"><code>virStoragePoolRefresh</code></a><a class="headerlink" href="#virStoragePoolRefresh" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolRefresh		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Request that the pool refresh its list of volumes. This may involve communicating with a remote server, and/or initializing new devices at the OS layer</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 if the volume list was refreshed, -1 on failure</dd></dl><div class="acl"></div><h3><a name="virStoragePoolSetAutostart" id="virStoragePoolSetAutostart"><code>virStoragePoolSetAutostart</code></a><a class="headerlink" href="#virStoragePoolSetAutostart" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolSetAutostart	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
					 <span class="type">int</span> autostart)</pre><div class="description"><p>Sets the autostart flag</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>autostart</dt><dd>new flag setting</dd><dt>Returns</dt><dd>0 on success, -1 on failure</dd></dl><div class="acl"></div><h3><a name="virStoragePoolUndefine" id="virStoragePoolUndefine"><code>virStoragePoolUndefine</code></a><a class="headerlink" href="#virStoragePoolUndefine" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStoragePoolUndefine		(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool)</pre><div class="description"><p>Undefine an inactive storage pool</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>Returns</dt><dd>0 on success, -1 on failure</dd></dl><div class="acl"></div><h3><a name="virStorageVolCreateXML" id="virStorageVolCreateXML"><code>virStorageVolCreateXML</code></a><a class="headerlink" href="#virStorageVolCreateXML" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	virStorageVolCreateXML	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
						 <span class="type">const char *</span> xmlDesc,
						 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Create a storage volume within a pool based on an XML description. Not all pools support creation of volumes.</p><p>Since 1.0.1 <a href="libvirt-libvirt-storage.html#VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA">VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA</a> in flags can be used to get higher performance with qcow2 image files which don't support full preallocation, by creating a sparse image file with metadata.</p><p><a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a> should be used to free the resources after the storage volume object is no longer needed.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>xmlDesc</dt><dd>description of volume to create</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virStorageVolCreateFlags">virStorageVolCreateFlags</a></dd><dt>Returns</dt><dd>the storage volume, or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolCreateXMLFrom" id="virStorageVolCreateXMLFrom"><code>virStorageVolCreateXMLFrom</code></a><a class="headerlink" href="#virStorageVolCreateXMLFrom" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	virStorageVolCreateXMLFrom	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
							 <span class="type">const char *</span> xmlDesc,
							 <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> clonevol,
							 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Create a storage volume in the parent pool, using the 'clonevol' volume as input. Information for the new volume (name, perms) are passed via a typical volume XML description.</p><p>Since 1.0.1 <a href="libvirt-libvirt-storage.html#VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA">VIR_STORAGE_VOL_CREATE_PREALLOC_METADATA</a> in flags can be used to get higher performance with qcow2 image files which don't support full preallocation, by creating a sparse image file with metadata.</p><p><a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a> should be used to free the resources after the storage volume object is no longer needed.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to parent pool for the new volume</dd><dt>xmlDesc</dt><dd>description of volume to create</dd><dt>clonevol</dt><dd>storage volume to use as input</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virStorageVolCreateFlags">virStorageVolCreateFlags</a></dd><dt>Returns</dt><dd>the storage volume, or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolDelete" id="virStorageVolDelete"><code>virStorageVolDelete</code></a><a class="headerlink" href="#virStorageVolDelete" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolDelete		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Delete the storage volume from the pool</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 on success, or -1 on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolDownload" id="virStorageVolDownload"><code>virStorageVolDownload</code></a><a class="headerlink" href="#virStorageVolDownload" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolDownload		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type"><a href="libvirt-libvirt-host.html#virStreamPtr">virStreamPtr</a></span> stream,
					 <span class="type">unsigned long long</span> offset,
					 <span class="type">unsigned long long</span> length,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Download the content of the volume as a stream. If @length is zero, then the remaining contents of the volume after @offset will be downloaded.</p><p>This call sets up an asynchronous stream; subsequent use of stream APIs is necessary to transfer the actual data, determine how much data is successfully transferred, and detect any errors. The results will be unpredictable if another active stream is writing to the storage volume.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to volume to download from</dd><dt>stream</dt><dd>stream to use as output</dd><dt>offset</dt><dd>position in @vol to start reading from</dd><dt>length</dt><dd>limit on amount of data to download</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0, or -1 upon error.</dd></dl><div class="acl"></div><h3><a name="virStorageVolFree" id="virStorageVolFree"><code>virStorageVolFree</code></a><a class="headerlink" href="#virStorageVolFree" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolFree		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Release the storage volume handle. The underlying storage volume continues to exist.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>Returns</dt><dd>0 on success, or -1 on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolGetConnect" id="virStorageVolGetConnect"><code>virStorageVolGetConnect</code></a><a class="headerlink" href="#virStorageVolGetConnect" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span>	virStorageVolGetConnect	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Provides the connection pointer associated with a storage volume. The reference counter on the connection is not increased by this call.</p><p>WARNING: When writing libvirt bindings in other languages, do not use this function. Instead, store the connection and the volume object together.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to a pool</dd><dt>Returns</dt><dd>the <a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a> or NULL in case of failure.</dd></dl><div class="acl"></div><h3><a name="virStorageVolGetInfo" id="virStorageVolGetInfo"><code>virStorageVolGetInfo</code></a><a class="headerlink" href="#virStorageVolGetInfo" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolGetInfo		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolInfoPtr">virStorageVolInfoPtr</a></span> info)</pre><div class="description"><p>Fetches volatile information about the storage volume such as its current allocation</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>info</dt><dd>pointer at which to store info</dd><dt>Returns</dt><dd>0 on success, or -1 on failure</dd></dl><div class="acl"></div><h3><a name="virStorageVolGetKey" id="virStorageVolGetKey"><code>virStorageVolGetKey</code></a><a class="headerlink" href="#virStorageVolGetKey" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">const char *</span>	virStorageVolGetKey	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Fetch the storage volume key. This is globally unique, so the same volume will have the same key no matter what host it is accessed from</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>Returns</dt><dd>the volume key, or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolGetName" id="virStorageVolGetName"><code>virStorageVolGetName</code></a><a class="headerlink" href="#virStorageVolGetName" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">const char *</span>	virStorageVolGetName	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Fetch the storage volume name. This is unique within the scope of a pool</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>Returns</dt><dd>the volume name, or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolGetPath" id="virStorageVolGetPath"><code>virStorageVolGetPath</code></a><a class="headerlink" href="#virStorageVolGetPath" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">char *</span>	virStorageVolGetPath		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Fetch the storage volume path. Depending on the pool configuration this is either persistent across hosts, or dynamically assigned at pool startup. Consult pool documentation for information on getting the persistent naming</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>Returns</dt><dd>the storage volume path, or NULL on error. The caller must free() the returned path after use.</dd></dl><div class="acl"></div><h3><a name="virStorageVolGetXMLDesc" id="virStorageVolGetXMLDesc"><code>virStorageVolGetXMLDesc</code></a><a class="headerlink" href="#virStorageVolGetXMLDesc" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">char *</span>	virStorageVolGetXMLDesc		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Fetch an XML document describing all aspects of the storage volume</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>the XML document, or NULL on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolLookupByKey" id="virStorageVolLookupByKey"><code>virStorageVolLookupByKey</code></a><a class="headerlink" href="#virStorageVolLookupByKey" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	virStorageVolLookupByKey	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
							 <span class="type">const char *</span> key)</pre><div class="description"><p>Fetch a pointer to a storage volume based on its globally unique key</p><p><a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a> should be used to free the resources after the storage volume object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>key</dt><dd>globally unique key</dd><dt>Returns</dt><dd>a storage volume, or NULL if not found / error</dd></dl><div class="acl"></div><h3><a name="virStorageVolLookupByName" id="virStorageVolLookupByName"><code>virStorageVolLookupByName</code></a><a class="headerlink" href="#virStorageVolLookupByName" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	virStorageVolLookupByName	(<span class="type"><a href="libvirt-libvirt-storage.html#virStoragePoolPtr">virStoragePoolPtr</a></span> pool,
							 <span class="type">const char *</span> name)</pre><div class="description"><p>Fetch a pointer to a storage volume based on its name within a pool</p><p><a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a> should be used to free the resources after the storage volume object is no longer needed.</p></div><dl class="variablelist"><dt>pool</dt><dd>pointer to storage pool</dd><dt>name</dt><dd>name of storage volume</dd><dt>Returns</dt><dd>a storage volume, or NULL if not found / error</dd></dl><div class="acl"></div><h3><a name="virStorageVolLookupByPath" id="virStorageVolLookupByPath"><code>virStorageVolLookupByPath</code></a><a class="headerlink" href="#virStorageVolLookupByPath" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span>	virStorageVolLookupByPath	(<span class="type"><a href="libvirt-libvirt-host.html#virConnectPtr">virConnectPtr</a></span> conn,
							 <span class="type">const char *</span> path)</pre><div class="description"><p>Fetch a pointer to a storage volume based on its locally (host) unique path</p><p><a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a> should be used to free the resources after the storage volume object is no longer needed.</p></div><dl class="variablelist"><dt>conn</dt><dd>pointer to hypervisor connection</dd><dt>path</dt><dd>locally unique path</dd><dt>Returns</dt><dd>a storage volume, or NULL if not found / error</dd></dl><div class="acl"></div><h3><a name="virStorageVolRef" id="virStorageVolRef"><code>virStorageVolRef</code></a><a class="headerlink" href="#virStorageVolRef" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolRef		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol)</pre><div class="description"><p>Increment the reference count on the vol. For each additional call to this method, there shall be a corresponding call to <a href="libvirt-libvirt-storage.html#virStorageVolFree">virStorageVolFree</a> to release the reference count, once the caller no longer needs the reference to this object.</p><p>This method is typically useful for applications where multiple threads are using a connection, and it is required that the connection remain open until all threads have finished using it. ie, each new thread using a vol would increment the reference count.</p></div><dl class="variablelist"><dt>vol</dt><dd>the vol to hold a reference on</dd><dt>Returns</dt><dd>0 in case of success, -1 in case of failure.</dd></dl><div class="acl"></div><h3><a name="virStorageVolResize" id="virStorageVolResize"><code>virStorageVolResize</code></a><a class="headerlink" href="#virStorageVolResize" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolResize		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type">unsigned long long</span> capacity,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Changes the capacity of the storage volume @vol to @capacity. The operation will fail if the new capacity requires allocation that would exceed the remaining free space in the parent pool. The contents of the new capacity will appear as all zero bytes. The capacity value will be rounded to the granularity supported by the hypervisor.</p><p>Normally, the operation will attempt to affect capacity with a minimum impact on allocation (that is, the default operation favors a sparse resize). If @flags contains <a href="libvirt-libvirt-storage.html#VIR_STORAGE_VOL_RESIZE_ALLOCATE">VIR_STORAGE_VOL_RESIZE_ALLOCATE</a>, then the operation will ensure that allocation is sufficient for the new capacity; this may make the operation take noticeably longer.</p><p>Normally, the operation treats @capacity as the new size in bytes; but if @flags contains <a href="libvirt-libvirt-storage.html#VIR_STORAGE_VOL_RESIZE_DELTA">VIR_STORAGE_VOL_RESIZE_DELTA</a>, then @capacity represents the size difference to add to the current size. It is up to the storage pool implementation whether unaligned requests are rounded up to the next valid boundary, or rejected.</p><p>Normally, this operation should only be used to enlarge capacity; but if @flags contains <a href="libvirt-libvirt-storage.html#VIR_STORAGE_VOL_RESIZE_SHRINK">VIR_STORAGE_VOL_RESIZE_SHRINK</a>, it is possible to attempt a reduction in capacity even though it might cause data loss. If <a href="libvirt-libvirt-storage.html#VIR_STORAGE_VOL_RESIZE_DELTA">VIR_STORAGE_VOL_RESIZE_DELTA</a> is also present, then @capacity is subtracted from the current size; without it, @capacity represents the absolute new size regardless of whether it is larger or smaller than the current size.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>capacity</dt><dd>new capacity, in bytes</dd><dt>flags</dt><dd>bitwise-OR of <a href="libvirt-libvirt-storage.html#virStorageVolResizeFlags">virStorageVolResizeFlags</a></dd><dt>Returns</dt><dd>0 on success, or -1 on error.</dd></dl><div class="acl"></div><h3><a name="virStorageVolUpload" id="virStorageVolUpload"><code>virStorageVolUpload</code></a><a class="headerlink" href="#virStorageVolUpload" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolUpload		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type"><a href="libvirt-libvirt-host.html#virStreamPtr">virStreamPtr</a></span> stream,
					 <span class="type">unsigned long long</span> offset,
					 <span class="type">unsigned long long</span> length,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Upload new content to the volume from a stream. This call will fail if @offset + @length exceeds the size of the volume. Otherwise, if @length is non-zero, an error will be raised if an attempt is made to upload greater than @length bytes of data.</p><p>This call sets up an asynchronous stream; subsequent use of stream APIs is necessary to transfer the actual data, determine how much data is successfully transferred, and detect any errors. The results will be unpredictable if another active stream is writing to the storage volume.</p><p>When the data stream is closed whether the upload is successful or not the target storage pool will be refreshed to reflect pool and volume changes as a result of the upload. Depending on the target volume storage backend and the source stream type for a successful upload, the target volume may take on the characteristics from the source stream such as format type, capacity, and allocation.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to volume to upload</dd><dt>stream</dt><dd>stream to use as input</dd><dt>offset</dt><dd>position to start writing to</dd><dt>length</dt><dd>limit on amount of data to upload</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0, or -1 upon error.</dd></dl><div class="acl"></div><h3><a name="virStorageVolWipe" id="virStorageVolWipe"><code>virStorageVolWipe</code></a><a class="headerlink" href="#virStorageVolWipe" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolWipe		(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Ensure data previously on a volume is not accessible to future reads</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>flags</dt><dd>extra flags; not used yet, so callers should always pass 0</dd><dt>Returns</dt><dd>0 on success, or -1 on error</dd></dl><div class="acl"></div><h3><a name="virStorageVolWipePattern" id="virStorageVolWipePattern"><code>virStorageVolWipePattern</code></a><a class="headerlink" href="#virStorageVolWipePattern" title="Permalink to this headline">¶</a></h3><pre class="api"><span class="type">int</span>	virStorageVolWipePattern	(<span class="type"><a href="libvirt-libvirt-storage.html#virStorageVolPtr">virStorageVolPtr</a></span> vol,
					 <span class="type">unsigned int</span> algorithm,
					 <span class="type">unsigned int</span> flags)</pre><div class="description"><p>Similar to <a href="libvirt-libvirt-storage.html#virStorageVolWipe">virStorageVolWipe</a>, but one can choose between different wiping algorithms.</p></div><dl class="variablelist"><dt>vol</dt><dd>pointer to storage volume</dd><dt>algorithm</dt><dd>one of <a href="libvirt-libvirt-storage.html#virStorageVolWipeAlgorithm">virStorageVolWipeAlgorithm</a></dd><dt>flags</dt><dd>future flags, use 0 for now</dd><dt>Returns</dt><dd>0 on success, or -1 on error.</dd></dl><div class="acl"></div></div></div><div id="footer"><p id="sponsor">
	    Sponsored by:<br /><a href="http://et.redhat.com/"><img src="../et.png" alt="Project sponsored by Red Hat Emerging Technology" /></a></p></div></body></html>
